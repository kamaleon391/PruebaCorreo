/div></div>
            
            <p>
                </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                    <p>This feature is only available in v3.0.4p and above.</p>
                </div><p>
            </p>
            <p>When using matrix plots to display micro arrays it is often desirable to have
                legends for each row and column. <a class="xref" href="ch22s04.html#fig.matrix_edgeex01" title="Figure 22.8. Adding row and column legends to a matrix plot (matrix_edgeex01.php)">Figure 22.8. Adding row and column legends to a matrix plot <code class="uri"><a class="uri" href="example_src/matrix_edgeex01.html" target="_top">(<code class="filename">matrix_edgeex01.php</code>)</a></code> </a> shows an example of this which helps
                understand this concept.</p>
            <p>
                </p><div class="figure"><a name="fig.matrix_edgeex01"></a><p class="title"><b>Figure 22.8. Adding row and column legends to a matrix plot <code class="uri"><a class="uri" href="example_src/matrix_edgeex01.html" target="_top">(<code class="filename">matrix_edgeex01.php</code>)</a></code> </b></p><div class="figure-contents">  <span class="inlinemediaobject"><img src="images/matrix_edgeex01.png" alt="Adding row and column legends to a matrix plot (matrix_edgeex01.php)"></span> </div></div><p><br class="figure-break">
            </p>
            <p>In the library this is modelled by the <code class="code">class EdgeLabel</code> which is
                instantiated in the matrix plot as</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::collabel</code></p>
                        <p>Instance for horizontal labels</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixPlot::rowlabel</code></p>
                        <p>Instance for vertical labels</p>
                    </li></ul></div><p>
            </p>
            <p>To adjust the appearance of the labels the following methods can be used:</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetFont($aFF,$aFS,$aSize)</code></strong></span></p>
                        <p>Specify the font to be used. Keep in mind that the font size should
                            not be larger than the module size chosen to be able to fit within the
                            row/column it specifies. For the default module size a font size of 8-9
                            for a TTF font is usually fine. By default the labels are set in
                            FF_ARIAL, 8 pt size.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetFontColor($aColor)</code></strong></span></p>
                        <p>Specifies the font color.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetMargin($aMargin)</code></strong></span></p>
                        <p>Set the margin from the edge of the matrix in pixels.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetSide($aSide)</code></strong></span></p>
                        <p>Specifies on what side the labels should be drawn. For horizontal (x)
                            labels the possible sides are <code class="code">"left"</code> or
                                <code class="code">"right"</code> and for vertical (y) the possible sides are
                                <code class="code">"top"</code> and <code class="code">"bottom"</code>.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::Set($aLabels)</code></strong></span></p>
                        <p>Specifies the 1-dimensional array that holds the labels to be
                            used.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetAngle($aAngle)</code></strong></span></p>
                        <p>Specify the angle to draw the label at. By default row labels are
                            drawn at 0 degree and column labels are drawn at 90 degrees
                            angle.</p>
                    </li></ul></div><p>
            </p>
            <p>The simplest use of labels is to use the default values for all parameters and
                just set the labels, i.e.</p>
            <p>
                </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-var">$data</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
</span><span class="hl-var">$collabels</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
</span><span class="hl-var">$rowlabels</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
 
</span><span class="hl-var">$mp</span><span class="hl-code"> = </span><span class="hl-reserved">new</span><span class="hl-code"> </span><span class="hl-identifier">MatrixPlot</span><span class="hl-brackets">(</span><span class="hl-var">$data</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-var">$mp</span><span class="hl-code">-&gt;</span><span class="hl-identifier">collabel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">Set</span><span class="hl-brackets">(</span><span class="hl-var">$collabels</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$mp</span><span class="hl-code">-&gt;</span><span class="hl-identifier">rowlabel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">Set</span><span class="hl-brackets">(</span><span class="hl-var">$rowlabels</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></pre></td></tr></table></div><p>
            </p>
            <p>Below is a final example of adding row and column labels to a matrix graph</p>
            <p>
                </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">#=matrix_edgeex02|Adding row and column legends to a matrix plot##</span></pre></td></tr></table></div><p>
            </p>
        </div>
    </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"><a accesskey="u" href="ch22.html">Up</a></td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
terpreted as specifying the size as fractions of the overall graph
                            width and height. If the number are &gt; 1 they will be interpreted as the
                            absolute size (in pixels). It is perfectly possible to mix teh two ways.
                            For example the following is a valid size specification</p>
                        <p>
                            </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">$matrixplot-&gt;SetSize(250,0.6); // 250px wide and height will be ~60% of the graph height</span></pre></td></tr></table></div><p>
                        </p>
                        <p>If only one argument is specified it will set both the width and
                            height to the specified size. If the single size is specified as a
                            fraction the smallest of the graph width/height will be used as the
                            base.</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixPlot::SetModuleSize($aW,$aH)</code></p>
                        <p>The two argument specifies the module size, i.e. the size of each cell
                            in the plot (in pixels).</p>
                    </li></ul></div><p>
                </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                    <p>The size does not effect the legend that belongs to a matrix plot.</p>
                </div><p>
            </p>
        </div>
        <div class="sect2" title="Specifying the position of the plot on the graph"><div class="titlepage"><div><div><h3 class="title"><a name="id2592997"></a>Specifying the position of the plot on the graph</h3></div></div></div>
            
            <p>The position of the plot by is by default centered vertically and slightly move to
                the left of the vertical center in order to compensate for the default legend that
                is shown n the right of the plot. The position of the plot is specified by the
                method</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::SetCenterPos($aX,$aY)</code></p>
                        <p>Specifies the center of the plot to be the given x and y-coordinates.
                            The position can be specified in either absolute pixels or as fractions
                            of the width and height (or as a combination).</p>
                    </li></ul></div><p>
                </p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>
                    <p>In order to position multiple plots on the same graph it is easier to user
                        the layout classes (as described in <a class="xref" href="ch22s07.html" title="Using layout classes to position matrix plots">Using layout classes to position matrix plots</a>)</p>
                </div><p>
            </p>
        </div>
        <div class="sect2" title="Adjusting the legend"><div class="titlepage"><div><div><h3 class="title"><a name="id2593044"></a>Adjusting the legend</h3></div></div></div>
            
            <p>The legend belongs to the matrix plot and not the graph. All legend are instances
                of <code class="code">class MatrixLegend</code> and is accessed through the property</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::legend</code></p>
                    </li></ul></div><p>
            </p>
            <p>By default the legend is enabled and positioned to the right of the plot. Both the
                size and position of the legend can be manually adjusted. </p>
            <p>There are four possible positions of the legend as shown in <a class="xref" href="ch22s04.html#fig.matrix-legend-pos" title="Figure 22.7. Matrix legend positions">Figure 22.7. Matrix legend positions</a>, on each of the four sides of the plot.
                The labels of the legend will be automatically adjusted to face aways from the
                plot.</p>
            <div class="figure"><a name="fig.matrix-legend-pos"></a><p class="title"><b>Figure 22.7. Matrix legend positions</b></p><div class="figure-contents">
                
                <div class="mediaobject"><img src="images/matrix_legend_pos.png" alt="Matrix legend positions"></div>
            </div></div><br class="figure-break">
            <p>To position the legend the following <code class="code">MatrixPlot</code> method is used</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::SetLegendLayout($aPos)</code></p>
                        <p>The position of the legend is specified as an integer in range [0-3]
                            where 0 is the right side of the plot and the remaining posiotins follow
                            clockwise from the right, (i.e. 1 is the bottom, 2 is the left and 3 is
                            the top side).</p>
                    </li></ul></div><p>
            </p>
            <p>The following methods can be used to fine tune and adjust the legend</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixLegend::Show($aFlg=true)</code></p>
                        <p>Used to enable/disable the legend. The following code line would hide
                            the legend</p>
                        <p>
                            </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">$matrixplot-&gt;legend-&gt;Show(false);</span></pre></td></tr></table></div><p>
                        </p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetModuleSize($aBucketWidth,$aBucketHeight=5)</code></p>
                        <p>This specifies the size of each color bucket in the legend. </p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetSize($aWidth,$aHeight=5)</code></p>
                        <p>This is an alternative way to specify the size of the legend compare
                            with the individual bucket specification. With this method the overall
                            width and height of the legend bar can be adjusted. The size can be
                            specified s either absolute pixels or as fraction of the width height of
                            the entire graph.</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetMargin($aMargin)</code></p>
                        <p>Specifies the margin (in pixels) between the matrix plot and the
                            legend.</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetLabelMargin($aMargin)</code></p>
                        <p>Specifies the margin between the min/max label and the legend
                            bar</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetFont($aFamily,$aStyle,$aSize)</code></p>
                        <p>Specifies the font for the label on the legend</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetFormatString($aStr)</code></p>
                        <p>Specifies the format string (in <code class="code">printf()</code> format) to be
                            used when rendering the legend label</p>
                    </li></ul></div><p>
            </p>
        </div>
        <div class="sect2" title="Adding row and column legends"><div class="titlepage"><div><div><h3 class="title"><a name="id2593243"></a>Adding row and column legends</h3></div></div></div>
            
            <p>
                </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                    <p>This feature is only available in v3.0.4p and above.</p>
                </div><p>
            </p>
            <p>When using matrix plots to display micro arrays it is often desirable to have
                legends for each row and column. <a class="xref" href="ch22s04.html#fig.matrix_edgeex01" title="Figure 22.8. Adding row and column legends to a matrix plot (matrix_edgeex01.php)">Figure 22.8. Adding row and column legends to a matrix plot <code class="uri"><a class="uri" href="example_src/matrix_edgeex01.html" target="_top">(<code class="filename">matrix_edgeex01.php</code>)</a></code> </a> shows an example of this which helps
                understand this concept.</p>
            <p>
                </p><div class="figure"><a name="fig.matrix_edgeex01"></a><p class="title"><b>Figure 22.8. Adding row and column legends to a matrix plot <code class="uri"><a class="uri" href="example_src/matrix_edgeex01.html" target="_top">(<code class="filename">matrix_edgeex01.php</code>)</a></code> </b></p><div class="figure-contents">  <span class="inlinemediaobject"><img src="images/matrix_edgeex01.png" alt="Adding row and column legends to a matrix plot (matrix_edgeex01.php)"></span> </div></div><p><br class="figure-break">
            </p>
            <p>In the library this is modelled by the <code class="code">class EdgeLabel</code> which is
                instantiated in the matrix plot as</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::collabel</code></p>
                        <p>Instance for horizontal labels</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixPlot::rowlabel</code></p>
                        <p>Instance for vertical labels</p>
                    </li></ul></div><p>
            </p>
            <p>To adjust the appearance of the labels the following methods can be used:</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetFont($aFF,$aFS,$aSize)</code></strong></span></p>
                        <p>Specify the font to be used. Keep in mind that the font size should
                            not be larger than the module size chosen to be able to fit within the
                            row/column it specifies. For the default module size a font size of 8-9
                            for a TTF font is usually fine. By default the labels are set in
                            FF_ARIAL, 8 pt size.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetFontColor($aColor)</code></strong></span></p>
                        <p>Specifies the font color.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetMargin($aMargin)</code></strong></span></p>
                        <p>Set the margin from the edge of the matrix in pixels.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetSide($aSide)</code></strong></span></p>
                        <p>Specifies on what side the labels should be drawn. For horizontal (x)
                            labels the possible sides are <code class="code">"left"</code> or
                                <code class="code">"right"</code> and for vertical (y) the possible sides are
                                <code class="code">"top"</code> and <code class="code">"bottom"</code>.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::Set($aLabels)</code></strong></span></p>
                        <p>Specifies the 1-dimensional array that holds the labels to be
                            used.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetAngle($aAngle)</code></strong></span></p>
                        <p>Specify the angle to draw the label at. By default row labels are
                            drawn at 0 degree and column labels are drawn at 90 degrees
                            angle.</p>
                    </li></ul></div><p>
            </p>
            <p>The simplest use of labels is to use the default values for all parameters and
                just set the labels, i.e.</p>
            <p>
                </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-var">$data</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
</span><span class="hl-var">$collabels</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
</span><span class="hl-var">$rowlabels</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
 
</span><span class="hl-var">$mp</span><span class="hl-code"> = </span><span class="hl-reserved">new</span><span class="hl-code"> </span><span class="hl-identifier">MatrixPlot</span><span class="hl-brackets">(</span><span class="hl-var">$data</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-var">$mp</span><span class="hl-code">-&gt;</span><span class="hl-identifier">collabel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">Set</span><span class="hl-brackets">(</span><span class="hl-var">$collabels</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$mp</span><span class="hl-code">-&gt;</span><span class="hl-identifier">rowlabel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">Set</span><span class="hl-brackets">(</span><span class="hl-var">$rowlabels</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></pre></td></tr></table></div><p>
            </p>
            <p>Below is a final example of adding row and column labels to a matrix graph</p>
            <p>
                </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">#=matrix_edgeex02|Adding row and column legends to a matrix plot##</span></pre></td></tr></table></div><p>
            </p>
        </div>
    </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"><a accesskey="u" href="ch22.html">Up</a></td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
terpreted as specifying the size as fractions of the overall graph
                            width and height. If the number are &gt; 1 they will be interpreted as the
                            absolute size (in pixels). It is perfectly possible to mix teh two ways.
                            For example the following is a valid size specification</p>
                        <p>
                            </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">$matrixplot-&gt;SetSize(250,0.6); // 250px wide and height will be ~60% of the graph height</span></pre></td></tr></table></div><p>
                        </p>
                        <p>If only one argument is specified it will set both the width and
                            height to the specified size. If the single size is specified as a
                            fraction the smallest of the graph width/height will be used as the
                            base.</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixPlot::SetModuleSize($aW,$aH)</code></p>
                        <p>The two argument specifies the module size, i.e. the size of each cell
                            in the plot (in pixels).</p>
                    </li></ul></div><p>
                </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                    <p>The size does not effect the legend that belongs to a matrix plot.</p>
                </div><p>
            </p>
        </div>
        <div class="sect2" title="Specifying the position of the plot on the graph"><div class="titlepage"><div><div><h3 class="title"><a name="id2592997"></a>Specifying the position of the plot on the graph</h3></div></div></div>
            
            <p>The position of the plot by is by default centered vertically and slightly move to
                the left of the vertical center in order to compensate for the default legend that
                is shown n the right of the plot. The position of the plot is specified by the
                method</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::SetCenterPos($aX,$aY)</code></p>
                        <p>Specifies the center of the plot to be the given x and y-coordinates.
                            The position can be specified in either absolute pixels or as fractions
                            of the width and height (or as a combination).</p>
                    </li></ul></div><p>
                </p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>
                    <p>In order to position multiple plots on the same graph it is easier to user
                        the layout classes (as described in <a class="xref" href="ch22s07.html" title="Using layout classes to position matrix plots">Using layout classes to position matrix plots</a>)</p>
                </div><p>
            </p>
        </div>
        <div class="sect2" title="Adjusting the legend"><div class="titlepage"><div><div><h3 class="title"><a name="id2593044"></a>Adjusting the legend</h3></div></div></div>
            
            <p>The legend belongs to the matrix plot and not the graph. All legend are instances
                of <code class="code">class MatrixLegend</code> and is accessed through the property</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::legend</code></p>
                    </li></ul></div><p>
            </p>
            <p>By default the legend is enabled and positioned to the right of the plot. Both the
                size and position of the legend can be manually adjusted. </p>
            <p>There are four possible positions of the legend as shown in <a class="xref" href="ch22s04.html#fig.matrix-legend-pos" title="Figure 22.7. Matrix legend positions">Figure 22.7. Matrix legend positions</a>, on each of the four sides of the plot.
                The labels of the legend will be automatically adjusted to face aways from the
                plot.</p>
            <div class="figure"><a name="fig.matrix-legend-pos"></a><p class="title"><b>Figure 22.7. Matrix legend positions</b></p><div class="figure-contents">
                
                <div class="mediaobject"><img src="images/matrix_legend_pos.png" alt="Matrix legend positions"></div>
            </div></div><br class="figure-break">
            <p>To position the legend the following <code class="code">MatrixPlot</code> method is used</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::SetLegendLayout($aPos)</code></p>
                        <p>The position of the legend is specified as an integer in range [0-3]
                            where 0 is the right side of the plot and the remaining posiotins follow
                            clockwise from the right, (i.e. 1 is the bottom, 2 is the left and 3 is
                            the top side).</p>
                    </li></ul></div><p>
            </p>
            <p>The following methods can be used to fine tune and adjust the legend</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixLegend::Show($aFlg=true)</code></p>
                        <p>Used to enable/disable the legend. The following code line would hide
                            the legend</p>
                        <p>
                            </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">$matrixplot-&gt;legend-&gt;Show(false);</span></pre></td></tr></table></div><p>
                        </p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetModuleSize($aBucketWidth,$aBucketHeight=5)</code></p>
                        <p>This specifies the size of each color bucket in the legend. </p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetSize($aWidth,$aHeight=5)</code></p>
                        <p>This is an alternative way to specify the size of the legend compare
                            with the individual bucket specification. With this method the overall
                            width and height of the legend bar can be adjusted. The size can be
                            specified s either absolute pixels or as fraction of the width height of
                            the entire graph.</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetMargin($aMargin)</code></p>
                        <p>Specifies the margin (in pixels) between the matrix plot and the
                            legend.</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetLabelMargin($aMargin)</code></p>
                        <p>Specifies the margin between the min/max label and the legend
                            bar</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetFont($aFamily,$aStyle,$aSize)</code></p>
                        <p>Specifies the font for the label on the legend</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixLegend::SetFormatString($aStr)</code></p>
                        <p>Specifies the format string (in <code class="code">printf()</code> format) to be
                            used when rendering the legend label</p>
                    </li></ul></div><p>
            </p>
        </div>
        <div class="sect2" title="Adding row and column legends"><div class="titlepage"><div><div><h3 class="title"><a name="id2593243"></a>Adding row and column legends</h3></div></div></div>
            
            <p>
                </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                    <p>This feature is only available in v3.0.4p and above.</p>
                </div><p>
            </p>
            <p>When using matrix plots to display micro arrays it is often desirable to have
                legends for each row and column. <a class="xref" href="ch22s04.html#fig.matrix_edgeex01" title="Figure 22.8. Adding row and column legends to a matrix plot (matrix_edgeex01.php)">Figure 22.8. Adding row and column legends to a matrix plot <code class="uri"><a class="uri" href="example_src/matrix_edgeex01.html" target="_top">(<code class="filename">matrix_edgeex01.php</code>)</a></code> </a> shows an example of this which helps
                understand this concept.</p>
            <p>
                </p><div class="figure"><a name="fig.matrix_edgeex01"></a><p class="title"><b>Figure 22.8. Adding row and column legends to a matrix plot <code class="uri"><a class="uri" href="example_src/matrix_edgeex01.html" target="_top">(<code class="filename">matrix_edgeex01.php</code>)</a></code> </b></p><div class="figure-contents">  <span class="inlinemediaobject"><img src="images/matrix_edgeex01.png" alt="Adding row and column legends to a matrix plot (matrix_edgeex01.php)"></span> </div></div><p><br class="figure-break">
            </p>
            <p>In the library this is modelled by the <code class="code">class EdgeLabel</code> which is
                instantiated in the matrix plot as</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><code class="code">MatrixPlot::collabel</code></p>
                        <p>Instance for horizontal labels</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixPlot::rowlabel</code></p>
                        <p>Instance for vertical labels</p>
                    </li></ul></div><p>
            </p>
            <p>To adjust the appearance of the labels the following methods can be used:</p>
            <p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetFont($aFF,$aFS,$aSize)</code></strong></span></p>
                        <p>Specify the font to be used. Keep in mind that the font size should
                            not be larger than the module size chosen to be able to fit within the
                            row/column it specifies. For the default module size a font size of 8-9
                            for a TTF font is usually fine. By default the labels are set in
                            FF_ARIAL, 8 pt size.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetFontColor($aColor)</code></strong></span></p>
                        <p>Specifies the font color.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetMargin($aMargin)</code></strong></span></p>
                        <p>Set the margin from the edge of the matrix in pixels.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetSide($aSide)</code></strong></span></p>
                        <p>Specifies on what side the labels should be drawn. For horizontal (x)
                            labels the possible sides are <code class="code">"left"</code> or
                                <code class="code">"right"</code> and for vertical (y) the possible sides are
                                <code class="code">"top"</code> and <code class="code">"bottom"</code>.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::Set($aLabels)</code></strong></span></p>
                        <p>Specifies the 1-dimensional array that holds the labels to be
                            used.</p>
                    </li><li class="listitem">
                        <p><span class="bold"><strong><code class="code">EdgeLabel::SetAngle($aAngle)</code></strong></span></p>
                        <p>Specify the angle to draw the label at. By default row labels are
                            drawn at 0 degree and column labels are drawn at 90 degrees
                            angle.</p>
                    </li></ul></div><p>
            </p>
            <p>The simplest use of labels is to use the default values for all parameters and
                just set the labels, i.e.</p>
            <p>
                </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-var">$data</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
</span><span class="hl-var">$collabels</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
</span><span class="hl-var">$rowlabels</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code"> ... </span><span class="hl-brackets">)</span><span class="hl-code"> ;
 
</span><span class="hl-var">$mp</span><span class="hl-code"> = </span><span class="hl-reserved">new</span><span class="hl-code"> </span><span class="hl-identifier">MatrixPlot</span><span class="hl-brackets">(</span><span class="hl-var">$data</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-var">$mp</span><span class="hl-code">-&gt;</span><span class="hl-identifier">collabel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">Set</span><span class="hl-brackets">(</span><span class="hl-var">$collabels</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$mp</span><span class="hl-code">-&gt;</span><span class="hl-identifier">rowlabel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">Set</span><span class="hl-brackets">(</span><span class="hl-var">$rowlabels</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></pre></td></tr></table></div><p>
            </p>
            <p>Below is a final example of adding row and column labels to a matrix graph</p>
            <p>
                </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">#=matrix_edgeex02|Adding row and column legends to a matrix plot##</span></pre></td></tr></table></div><p>
            </p>
        </div>
    </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"><a accesskey="u" href="ch22.html">Up</a></td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
terpreted as specifying the size as fractions of the overall graph
                            width and height. If the number are &gt; 1 they will be interpreted as the
                            absolute size (in pixels). It is perfectly possible to mix teh two ways.
                            For example the following is a valid size specification</p>
                        <p>
                            </p><div class="hl-main"><table class="hl-table" width="100%"><tr><td class="hl-gutter" align="right" valign="top"><pre>1
</pre></td><td class="hl-main" valign="top"><pre><span class="hl-code">$matrixplot-&gt;SetSize(250,0.6); // 250px wide and height will be ~60% of the graph height</span></pre></td></tr></table></div><p>
                        </p>
                        <p>If only one argument is specified it will set both the width and
                            height to the specified size. If the single size is specified as a
                            fraction the smallest of the graph width/height will be used as the
                            base.</p>
                    </li><li class="listitem">
                        <p><code class="code">MatrixPlot::SetModuleSize($aW,$aH)</code></p>
                        <p>The two argument specifies the module size, i.e. the size of each cell
                            in the plot (in pixels).</p>
                    </li></ul></div><p>
                </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                    <p>The size does not effect the legend that belongs to a matrix plot.</p>
                </div><p>
            </p>
        </div>
        <div class="sect2" title="Specifying the position of the plot on the graph"><div class="titlepage"><div><div><h3 class="title"><a name="id2592997"></a>Specifying th